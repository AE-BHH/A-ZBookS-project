<section id="main">
	<main id="second-section" class="container">
		<div class="row">
			<div class="col-sm-3 mb-3 mb-sm-0">
				<div class="card">
					<img src="Kabuli.jpeg" class="card-img-top" alt="image not found" />
					<div class="card-body">
						<h5 class="card-title">Special title treatment</h5>
						<p class="card-text">
							With supporting text below as a natural lead-in to additional
							content.
						</p>
						<input
							class="btn btn-primary"
							type="button"
							value="Kabuli"
							name="kabuli"
						/>
					</div>
				</div>
			</div>
			<div class="col-sm-3 mb-3 mb-sm-0">
				<div class="card">
					<img src="kabob.jpeg" class="card-img-top" alt="image not found" />
					<div class="card-body">
						<h5 class="card-title">Special title treatment</h5>
						<p class="card-text">
							With supporting text below as a natural lead-in to additional
							content.
						</p>
						<input
							class="btn btn-primary"
							type="button"
							value="Kabob"
							name="Kabob"
						/>
					</div>
				</div>
			</div>
			<div class="col-sm-3 mb-3 mb-sm-0">
				<div class="card">
					<img src="mantu.jpeg" class="card-img-top" alt="image not found" />
					<div class="card-body">
						<h5 class="card-title">Special title treatment</h5>
						<p class="card-text">
							With supporting text below as a natural lead-in to additional
							content.
						</p>
						<input
							class="btn btn-primary"
							type="button"
							value="Mantu"
							name="mantu"
						/>
					</div>
				</div>
			</div>
			<div class="col-sm-3 mb-3 mb-sm-0">
				<div class="card">
					<img src="bolani.jpeg" class="card-img-top" alt="image not found" />
					<div class="card-body">
						<h5 class="card-title">Special title treatment</h5>
						<p class="card-text">
							With supporting text below as a natural lead-in to additional
							content.
						</p>
						<input
							class="btn btn-primary"
							type="button"
							value="Bolani"
							name="bolani"
						/>
					</div>
				</div>
			</div>
		</div>
	</main>
</section>

// bookInfoBox.append( // `
<p>
	${bookTitle} <br />
	${authorName} <br />
	${language} <br />
	${pages} <br />
	${publishedYear}
</p>
` // ) // handleBookCover() // function handleBookCover() { //
searchBtn.on('click', (e) => { // e.preventDefault() // const bookTitle =
$('#search-input')[0].value // const searchURL =
`https://openlibrary.org/search.json?title=${bookTitle}` // fetch(searchURL) //
.then((res) => res.json()) // .then((data) => { // const coverId =
data.docs[0].cover_i // handleBookCover() // function handleBookCover() { //
coverPhoto.append( // `<span id="book-cover"
	><img
		width="100"
		height="150"
		src="https://covers.openlibrary.org/b/id/${coverId}.jpg"
		alt="Book Cover Photo" /></span
>` // ) // } // }) // }) // } // const authorName = `Author:
${data.docs[0].author_name[0]}` // const language = `Language:
${data.docs[0].language[0]}` // const pages = `Pages:
${data.docs[0].number_of_pages_median}` // const publishedYear = `Published
Year(s): ${ // data.docs[0].publish_year[data.docs[0].publish_year.length - 1]
// }` // const coverId = data.docs[0].cover_i // handleBookCover() // function
handleBookCover() { // coverPhoto.append( // `<span id="book-cover"
	><img
		width="100"
		height="150"
		src="https://covers.openlibrary.org/b/id/${coverId}.jpg"
		alt="Book Cover Photo" /></span
>` // ) // } // const authorName = `Author: ${data.docs[0].author_name[0]}` //
const language = `Language: ${data.docs[0].language[0]}` // const pages =
`Pages: ${data.docs[0].number_of_pages_median}` // const publishedYear =
`Published Year(s): ${ //
data.docs[0].publish_year[data.docs[0].publish_year.length - 1] // }`



getSearchType()
						function getSearchType() {
							bookFilterDropdown.on('change', (e) => {
								e.preventDefault()
								let searchURL = ''

								if ((selectedFilter = 'Author')) {
									searchURL = `https://openlibrary.org/search.json?author=${searchInput}`
								} else {
									searchURL = `https://openlibrary.org/search.json?title=${searchInput}`
								}
							})
						}












						$(document).ready(function () {
	const searchBoxInput = $('#search-input')
	const searchBtn = $('#search-btn')
	const resultContainer = $('#resultContainer')
	const bookFilterDropdown = $('#filter-dropdown')

	handleSearch()
	function handleSearch() {
		searchBtn.on('click', (e) => {
			e.preventDefault()
			console.log('works!')
			const searchInput = searchBoxInput.val()
			const selectedFilter = bookFilterDropdown.val()
			if (searchInput === '') {
				alert('Invalid input')
			} else {
				const searchURL = `https://openlibrary.org/search.json?${selectedFilter}=${searchInput}`

				fetch(searchURL)
					.then((res) => res.json())
					.then((data) => {
						console.log(data)
						console.log(data.docs)
						resultContainer.empty()

						data.docs.forEach((element) => {
							console.log(element)

							const bookContainer = $('<div>').addClass('book-container')
							getBookCover()
							function getBookCover() {
								let coverId = element.cover_i
								const coverImg = $('<img>')
									.attr(
										'src',
										`https://covers.openlibrary.org/b/id/${coverId}.jpg`
									)
									.attr('width', '100')
									.attr('height', '150')
									.attr('margin', '50px')
									.attr('alt', 'Book Cover Photo')
								const bookLink = $('<a>')
									.addClass('book-link')
									.attr('href', `https://openlibrary.org${element.key}`)
									.append(coverImg)

								bookContainer.append(bookLink)
							}

							getBookInfo()
							function getBookInfo() {
								let bookAuthor = `Author: ${element.author_name}`
								let language = `Language(s): ${element.language}`
								let pages = `Pages: ${element.number_of_pages_median}`
								let firstPublished = `First Published Year: ${element.first_publish_year}`

								const bookDetails = $('<div>')
									.addClass('book-details-container')
									.append(
										$('<a>')
											.attr('href', `https://openlibrary.org${element.key}`)
											.text(element.title),
										$('<br>'),
										bookAuthor,
										$('<br>'),
										language,
										$('<br>'),
										pages,
										$('<br>'),
										firstPublished
									)

								bookContainer.append(bookDetails)
							}
							resultContainer.append(bookContainer)
						})
					})
					.catch((err) => console.error(err.message))
			}
		})
	}
})
